---
permalink: vmware/storage-and-performance-requirements.html 
sidebar: sidebar 
keywords: storage requirements, performance requirements, netapp ontap, fabricpool 
summary: 'Vous devez comprendre les exigences de stockage et de performances des nœuds StorageGRID hébergés par des machines virtuelles, afin de pouvoir fournir suffisamment d"espace pour prendre en charge la configuration initiale et l"extension future du stockage.' 
---
= Exigences de stockage et de performances
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Vous devez comprendre les exigences de stockage et de performances des nœuds StorageGRID hébergés par des machines virtuelles, afin de pouvoir fournir suffisamment d'espace pour prendre en charge la configuration initiale et l'extension future du stockage.



== Exigences de performance

Les performances du volume du système d’exploitation et du premier volume de stockage ont un impact significatif sur les performances globales du système.  Assurez-vous qu'ils offrent des performances de disque adéquates en termes de latence, d'opérations d'entrée/sortie par seconde (IOPS) et de débit.

Tous les nœuds StorageGRID nécessitent que le lecteur du système d'exploitation et tous les volumes de stockage aient la mise en cache en écriture différée activée.  Le cache doit être sur un support protégé ou persistant.



== Exigences pour les machines virtuelles qui utilisent le stockage NetApp ONTAP

Si vous déployez un nœud StorageGRID en tant que machine virtuelle avec un stockage attribué à partir d'un système NetApp ONTAP , vous avez confirmé qu'aucune stratégie de hiérarchisation FabricPool n'est activée sur le volume.  Par exemple, si un nœud StorageGRID s'exécute en tant que machine virtuelle sur un hôte VMware, assurez-vous que le volume qui sauvegarde la banque de données du nœud n'a pas de stratégie de hiérarchisation FabricPool activée.  La désactivation de la hiérarchisation FabricPool pour les volumes utilisés avec les nœuds StorageGRID simplifie le dépannage et les opérations de stockage.


NOTE: N'utilisez jamais FabricPool pour hiérarchiser les données liées à StorageGRID vers StorageGRID lui-même.  La hiérarchisation des données StorageGRID vers StorageGRID augmente le dépannage et la complexité opérationnelle.



== Nombre de machines virtuelles requises

Chaque site StorageGRID nécessite un minimum de trois nœuds de stockage.



== Besoins de stockage par type de nœud

Dans un environnement de production, les machines virtuelles pour les nœuds StorageGRID doivent répondre à différentes exigences, selon les types de nœuds.


NOTE: Les instantanés de disque ne peuvent pas être utilisés pour restaurer les nœuds de grille.  Au lieu de cela, reportez-vous à lalink:../maintain/warnings-and-considerations-for-grid-node-recovery.html["récupération des nœuds de réseau"] procédures pour chaque type de nœud.

[cols="1a,2a"]
|===
| Type de nœud | Stockage 


 a| 
Nœud d'administration
 a| 
100 Go LUN pour le système d'exploitation

LUN de 200 Go pour les tables de nœuds d'administration

Journal d'audit du nœud d'administration avec un LUN de 200 Go



 a| 
Nœud de stockage
 a| 
100 Go LUN pour le système d'exploitation

3 LUN pour chaque nœud de stockage sur cet hôte

*Remarque* : un nœud de stockage peut avoir de 1 à 16 LUN de stockage ; au moins 3 LUN de stockage sont recommandés.

Taille minimale par LUN : 4 To

Taille maximale du LUN testé : 39 To.



 a| 
Nœud de stockage (métadonnées uniquement)
 a| 
100 Go LUN pour le système d'exploitation

1 LUN

Taille minimale par LUN : 4 To

Taille maximale du LUN testé : 39 To.

*Remarque* : un seul rangedb est requis pour les nœuds de stockage contenant uniquement des métadonnées.



 a| 
Nœud de passerelle
 a| 
100 Go LUN pour le système d'exploitation

|===

NOTE: En fonction du niveau d'audit configuré, de la taille des entrées utilisateur telles que le nom de clé d'objet S3 et de la quantité de données de journal d'audit que vous devez conserver, vous devrez peut-être augmenter la taille du LUN du journal d'audit sur chaque nœud d'administration. En général, une grille génère environ 1 Ko de données d'audit par opération S3, ce qui signifie qu'un LUN de 200 Go prendrait en charge 70 millions d'opérations par jour ou 800 opérations par seconde pendant deux à trois jours.



== Exigences de stockage pour les nœuds de stockage

Un nœud de stockage basé sur un logiciel peut avoir de 1 à 16 volumes de stockage ; 3 volumes de stockage ou plus sont recommandés. Chaque volume de stockage doit être de 4 To ou plus.


NOTE: Un nœud de stockage d’appareil peut également avoir jusqu’à 48 volumes de stockage.

Comme indiqué dans la figure, StorageGRID réserve de l’espace pour les métadonnées d’objet sur le volume de stockage 0 de chaque nœud de stockage.  Tout espace restant sur le volume de stockage 0 et tous les autres volumes de stockage du nœud de stockage sont utilisés exclusivement pour les données d'objet.

image::../media/metadata_space_storage_node.png[Nœud de stockage d'espace de métadonnées]

Pour assurer la redondance et protéger les métadonnées des objets contre la perte, StorageGRID stocke trois copies des métadonnées de tous les objets du système sur chaque site.  Les trois copies des métadonnées de l’objet sont réparties uniformément sur tous les nœuds de stockage de chaque site.

Lors de l'installation d'une grille avec des nœuds de stockage contenant uniquement des métadonnées, la grille doit également contenir un nombre minimum de nœuds pour le stockage d'objets.  Voirlink:../primer/what-storage-node-is.html#types-of-storage-nodes["Types de nœuds de stockage"] pour plus d'informations sur les nœuds de stockage contenant uniquement des métadonnées.

* Pour une grille à site unique, au moins deux nœuds de stockage sont configurés pour les objets et les métadonnées.
* Pour une grille multisite, au moins un nœud de stockage par site est configuré pour les objets et les métadonnées.


Lorsque vous attribuez de l'espace au volume 0 d'un nouveau nœud de stockage, vous devez vous assurer qu'il y a suffisamment d'espace pour la partie de ce nœud de toutes les métadonnées d'objet.

* Au minimum, vous devez attribuer au moins 4 To au volume 0.
+

NOTE: Si vous utilisez un seul volume de stockage pour un nœud de stockage et que vous attribuez 4 To ou moins au volume, le nœud de stockage peut entrer dans l'état de stockage en lecture seule au démarrage et stocker uniquement les métadonnées de l'objet.

+

NOTE: Si vous attribuez moins de 500 Go au volume 0 (utilisation hors production uniquement), 10 % de la capacité du volume de stockage sont réservés aux métadonnées.

* Les ressources de nœuds basées uniquement sur des métadonnées logicielles doivent correspondre aux ressources de nœuds de stockage existantes. Par exemple:
+
** Si le site StorageGRID existant utilise des appliances SG6000 ou SG6100, les nœuds de métadonnées uniquement basés sur des logiciels doivent répondre aux exigences minimales suivantes :
+
*** 128 Go de RAM
*** processeur à 8 cœurs
*** SSD de 8 To ou stockage équivalent pour la base de données Cassandra (rangedb/0)


** Si le site StorageGRID existant utilise des nœuds de stockage virtuels avec 24 Go de RAM, un processeur à 8 cœurs et 3 To ou 4 To de stockage de métadonnées, les nœuds de métadonnées uniquement basés sur un logiciel doivent utiliser des ressources similaires (24 Go de RAM, un processeur à 8 cœurs et 4 To de stockage de métadonnées (rangedb/0).
+
Lors de l'ajout d'un nouveau site StorageGRID , la capacité totale des métadonnées du nouveau site doit, au minimum, correspondre aux sites StorageGRID existants et les nouvelles ressources du site doivent correspondre aux nœuds de stockage des sites StorageGRID existants.



* Si vous installez un nouveau système (StorageGRID 11.6 ou supérieur) et que chaque nœud de stockage dispose de 128 Go ou plus de RAM, attribuez 8 To ou plus au volume 0.  L’utilisation d’une valeur plus grande pour le volume 0 peut augmenter l’espace autorisé pour les métadonnées sur chaque nœud de stockage.
* Lors de la configuration de différents nœuds de stockage pour un site, utilisez le même paramètre pour le volume 0 si possible.  Si un site contient des nœuds de stockage de différentes tailles, le nœud de stockage avec le plus petit volume 0 déterminera la capacité des métadonnées de ce site.


Pour plus de détails, rendez-vous surlink:../admin/managing-object-metadata-storage.html["Gérer le stockage des métadonnées des objets"] .
