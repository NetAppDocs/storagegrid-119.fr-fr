---
permalink: primer/using-information-lifecycle-management.html 
sidebar: sidebar 
keywords: what is information lifecycle management, how to use ilm 
summary: 'Vous utilisez la gestion du cycle de vie des informations (ILM) pour contrôler le placement, la durée et le comportement d’ingestion de tous les objets de votre système StorageGRID . Les règles ILM déterminent la manière dont StorageGRID stocke les objets au fil du temps. Vous configurez une ou plusieurs règles ILM, puis les ajoutez à une stratégie ILM.' 
---
= Gestion du cycle de vie de l'information
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Vous utilisez la gestion du cycle de vie des informations (ILM) pour contrôler le placement, la durée et le comportement d'ingestion de tous les objets de votre système StorageGRID . Les règles ILM déterminent la manière dont StorageGRID stocke les objets au fil du temps. Vous configurez une ou plusieurs règles ILM, puis les ajoutez à une stratégie ILM.

Une grille n’a qu’une seule politique active à la fois.  Une politique peut contenir plusieurs règles.

Les règles ILM définissent :

* Quels objets doivent être stockés. Une règle peut s'appliquer à tous les objets ou vous pouvez spécifier des filtres pour identifier les objets auxquels une règle s'applique. Par exemple, une règle peut s’appliquer uniquement aux objets associés à certains comptes de locataire, à des buckets S3 ou conteneurs Swift spécifiques, ou à des valeurs de métadonnées spécifiques.
* Le type et l'emplacement de stockage.  Les objets peuvent être stockés sur des nœuds de stockage ou dans des pools de stockage cloud.
* Le type de copies d'objets réalisées.  Les copies peuvent être répliquées ou codées par effacement.
* Pour les copies répliquées, le nombre de copies réalisées.
* Pour les copies à codage d'effacement, le schéma de codage d'effacement utilisé.
* Les modifications apportées au fil du temps à l'emplacement de stockage d'un objet et au type de copies.
* Comment les données d'objet sont protégées lorsque les objets sont ingérés dans la grille (placement synchrone ou double validation).


Notez que les métadonnées des objets ne sont pas gérées par les règles ILM.  Au lieu de cela, les métadonnées des objets sont stockées dans une base de données Cassandra dans ce que l’on appelle un magasin de métadonnées.  Trois copies des métadonnées de l'objet sont automatiquement conservées sur chaque site pour protéger les données contre toute perte.



== Exemple de règle ILM

À titre d’exemple, une règle ILM pourrait spécifier ce qui suit :

* S'applique uniquement aux objets appartenant au locataire A.
* Créez deux copies répliquées de ces objets et stockez chaque copie dans un site différent.
* Conservez les deux copies « pour toujours », ce qui signifie que StorageGRID ne les supprimera pas automatiquement.  Au lieu de cela, StorageGRID conservera ces objets jusqu'à ce qu'ils soient supprimés par une demande de suppression du client ou par l'expiration d'un cycle de vie de bucket.
* Utilisez l'option Équilibré pour le comportement d'ingestion : l'instruction de placement sur deux sites est appliquée dès que le locataire A enregistre un objet dans StorageGRID, sauf s'il n'est pas possible de créer immédiatement les deux copies requises.
+
Par exemple, si le site 2 est inaccessible lorsque le locataire A enregistre un objet, StorageGRID effectuera deux copies intermédiaires sur les nœuds de stockage du site 1.  Dès que le site 2 sera disponible, StorageGRID effectuera la copie requise sur ce site.





== Comment une politique ILM évalue les objets

Les stratégies ILM actives pour votre système StorageGRID contrôlent le placement, la durée et le comportement d'ingestion de tous les objets.

Lorsque les clients enregistrent des objets dans StorageGRID, les objets sont évalués par rapport à l'ensemble ordonné de règles ILM dans la politique active, comme suit :

. Si les filtres de la première règle de la politique correspondent à un objet, l'objet est ingéré selon le comportement d'ingestion de cette règle et stocké selon les instructions de placement de cette règle.
. Si les filtres de la première règle ne correspondent pas à l'objet, l'objet est évalué par rapport à chaque règle suivante de la politique jusqu'à ce qu'une correspondance soit établie.
. Si aucune règle ne correspond à un objet, le comportement d'ingestion et les instructions de placement de la règle par défaut dans la politique sont appliqués.  La règle par défaut est la dernière règle d'une politique et ne peut utiliser aucun filtre.  Cela doit s’appliquer à tous les locataires, à tous les buckets et à toutes les versions d’objet.




== Exemple de politique ILM

À titre d’exemple, une politique ILM pourrait contenir trois règles ILM qui spécifient les éléments suivants :

* *Règle 1 : Copies dupliquées pour le locataire A*
+
** Faites correspondre tous les objets appartenant au locataire A.
** Stockez ces objets sous forme de trois copies répliquées sur trois sites.
** Les objets appartenant à d'autres locataires ne correspondent pas à la règle 1, ils sont donc évalués par rapport à la règle 2.


* *Règle 2 : Codage d'effacement pour les objets supérieurs à 1 Mo*
+
** Faites correspondre tous les objets des autres locataires, mais uniquement s'ils sont supérieurs à 1 Mo.  Ces objets plus grands sont stockés à l’aide du codage d’effacement 6+3 sur trois sites.
** Ne correspond pas aux objets de 1 Mo ou moins, ces objets sont donc évalués par rapport à la règle 3.


* *Règle 3 : 2 copies 2 centres de données* (par défaut)
+
** Il s’agit de la dernière règle par défaut de la politique.  N'utilise pas de filtres.
** Créez deux copies répliquées de tous les objets ne correspondant pas à la règle 1 ou à la règle 2 (objets n'appartenant pas au locataire A et dont la taille est de 1 Mo ou moins).




image::../media/ilm_policy_and_rules.png[Politique et règles de l'ILM]

.Informations connexes
* link:../ilm/index.html["Gérer les objets avec ILM"]

