---
permalink: expand/adding-metadata-capacity.html 
sidebar: sidebar 
keywords: metadata capacity, add, adding, expand, expansion, guidelines, Storage Nodes, metadata storage 
summary: 'Pour garantir qu"un espace suffisant est disponible pour les métadonnées d"objet, vous devrez peut-être effectuer une procédure d"extension pour ajouter de nouveaux nœuds de stockage sur chaque site.' 
---
= Ajouter une capacité de métadonnées
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Pour garantir qu'un espace suffisant est disponible pour les métadonnées d'objet, vous devrez peut-être effectuer une procédure d'extension pour ajouter de nouveaux nœuds de stockage sur chaque site.

StorageGRID réserve de l'espace pour les métadonnées d'objet sur le volume 0 de chaque nœud de stockage.  Trois copies de toutes les métadonnées d'objet sont conservées sur chaque site, réparties uniformément sur tous les nœuds de stockage.

Vous pouvez utiliser Grid Manager pour surveiller la capacité des métadonnées des nœuds de stockage et pour estimer la vitesse à laquelle la capacité des métadonnées est consommée.  De plus, l'alerte *Faible stockage de métadonnées* est déclenchée pour un nœud de stockage lorsque l'espace de métadonnées utilisé atteint certains seuils.

Notez que la capacité des métadonnées d'objet d'une grille peut être consommée plus rapidement que sa capacité de stockage d'objet, selon la façon dont vous utilisez la grille.  Par exemple, si vous ingérez généralement un grand nombre de petits objets ou ajoutez de grandes quantités de métadonnées utilisateur ou de balises aux objets, vous devrez peut-être ajouter des nœuds de stockage pour augmenter la capacité des métadonnées, même si la capacité de stockage d'objets reste suffisante.

Pour plus d'informations, consultez les éléments suivants :

* link:../admin/managing-object-metadata-storage.html["Gérer le stockage des métadonnées des objets"]
* link:../monitor/monitoring-storage-capacity.html#monitor-object-metadata-capacity-for-each-storage-node["Surveiller la capacité des métadonnées des objets pour chaque nœud de stockage"]




== Lignes directrices pour augmenter la capacité des métadonnées

Avant d’ajouter des nœuds de stockage pour augmenter la capacité des métadonnées, examinez les directives et limitations suivantes :

* En supposant qu'une capacité de stockage d'objets suffisante soit disponible, disposer de plus d'espace disponible pour les métadonnées d'objet augmente le nombre d'objets que vous pouvez stocker dans votre système StorageGRID .
* Vous pouvez augmenter la capacité des métadonnées d'une grille en ajoutant un ou plusieurs nœuds de stockage à chaque site.
* L'espace réel réservé aux métadonnées d'objet sur un nœud de stockage donné dépend de l'option de stockage Espace réservé aux métadonnées (paramètre à l'échelle du système), de la quantité de RAM allouée au nœud et de la taille du volume 0 du nœud.
* Vous ne pouvez pas augmenter la capacité des métadonnées en ajoutant des volumes de stockage aux nœuds de stockage existants, car les métadonnées sont stockées uniquement sur le volume 0.
* Vous ne pouvez pas augmenter la capacité des métadonnées en ajoutant un nouveau site.
* StorageGRID conserve trois copies de toutes les métadonnées des objets sur chaque site.  Pour cette raison, la capacité des métadonnées de votre système est limitée par la capacité des métadonnées de votre plus petit site.
* Lors de l'ajout de capacité de métadonnées, vous devez ajouter le même nombre de nœuds de stockage à chaque site.


Les nœuds de stockage de métadonnées uniquement ont des exigences matérielles spécifiques :

* Lors de l'utilisation d'appliances StorageGRID , les nœuds de métadonnées uniquement peuvent être configurés uniquement sur les appliances SGF6112 avec douze disques de 1,9 To ou douze disques de 3,8 To.
* Lors de l'utilisation de nœuds basés sur des logiciels, les ressources de nœuds contenant uniquement des métadonnées doivent correspondre aux ressources de nœuds de stockage existantes. Par exemple:
+
** Si le site StorageGRID existant utilise des appliances SG6000 ou SG6100, les nœuds de métadonnées uniquement basés sur des logiciels doivent répondre aux exigences minimales suivantes :
+
*** 128 Go de RAM
*** processeur à 8 cœurs
*** SSD de 8 To ou stockage équivalent pour la base de données Cassandra (rangedb/0)


** Si le site StorageGRID existant utilise des nœuds de stockage virtuels avec 24 Go de RAM, un processeur à 8 cœurs et 3 To ou 4 To de stockage de métadonnées, les nœuds de métadonnées uniquement basés sur un logiciel doivent utiliser des ressources similaires (24 Go de RAM, un processeur à 8 cœurs et 4 To de stockage de métadonnées (rangedb/0).


* Lors de l'ajout d'un nouveau site StorageGRID , la capacité totale des métadonnées du nouveau site doit, au minimum, correspondre aux sites StorageGRID existants et les nouvelles ressources du site doivent correspondre aux nœuds de stockage des sites StorageGRID existants.


Voir lelink:../admin/managing-object-metadata-storage.html["description de ce qu'est l'espace réservé aux métadonnées"] .



== Comment les métadonnées sont redistribuées lorsque vous ajoutez des nœuds de stockage

Lorsque vous ajoutez des nœuds de stockage dans une extension, StorageGRID redistribue les métadonnées d'objet existantes aux nouveaux nœuds de chaque site, ce qui augmente la capacité globale des métadonnées de la grille.  Aucune action de l'utilisateur n'est requise.

La figure suivante montre comment StorageGRID redistribue les métadonnées d’objet lorsque vous ajoutez des nœuds de stockage dans une extension.  Le côté gauche de la figure représente le volume 0 de trois nœuds de stockage avant une extension.  Les métadonnées consomment une partie relativement importante de l'espace de métadonnées disponible de chaque nœud, et l'alerte *Faible stockage de métadonnées* a été déclenchée.

Le côté droit de la figure montre comment les métadonnées existantes sont redistribuées après l’ajout de deux nœuds de stockage au site.  La quantité de métadonnées sur chaque nœud a diminué, l'alerte *Faible stockage de métadonnées* n'est plus déclenchée et l'espace disponible pour les métadonnées a augmenté.

image::../media/metadata_space_after_expansion.png[Diagramme des métadonnées redistribuées après l'ajout de deux nœuds de stockage]
